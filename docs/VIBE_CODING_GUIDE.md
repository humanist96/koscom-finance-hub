# 바이브 코딩 가이드

## 금융동향파악 시스템 - Claude Code 활용 유지보수 가이드

---

## 1. 바이브 코딩이란?

바이브 코딩(Vibe Coding)은 AI 코딩 어시스턴트를 활용하여 개발 경험이 부족한 담당자도 코드를 이해하고 수정할 수 있게 하는 방식입니다.

### 핵심 원칙

```
1. AI에게 명확하게 설명한다
2. 작은 단위로 수정한다
3. 수정 전후를 반드시 테스트한다
4. 모르면 AI에게 먼저 물어본다
5. 위험한 작업은 전문가에게 맡긴다
```

---

## 2. Claude Code 시작하기

### 2.1 설치 및 설정

```bash
# Claude Code CLI 설치 (npm 사용)
npm install -g @anthropic-ai/claude-code

# 또는 Homebrew 사용 (macOS)
brew install claude-code

# API 키 설정
export ANTHROPIC_API_KEY="your-api-key"
```

### 2.2 프로젝트 열기

```bash
# 프로젝트 디렉토리로 이동
cd /path/to/securities-intelligence-hub

# Claude Code 실행
claude

# 또는 특정 디렉토리 지정
claude /path/to/securities-intelligence-hub
```

### 2.3 기본 사용법

```
# Claude Code 내에서 할 수 있는 것들:

1. 파일 읽기
   "src/app/dashboard/page.tsx 파일을 읽어줘"

2. 코드 설명 요청
   "이 파일이 무슨 역할을 하는지 설명해줘"

3. 코드 수정 요청
   "이 버튼의 색상을 파란색으로 바꿔줘"

4. 에러 해결
   "이 에러 메시지가 뜨는데 원인이 뭐야?"

5. 검색
   "뉴스 목록을 보여주는 코드가 어디 있어?"
```

---

## 3. 안전한 작업 범위

### 3.1 혼자서 할 수 있는 작업 (녹색 영역)

| 작업 | 위험도 | 예시 |
|------|--------|------|
| 텍스트 수정 | 낮음 | 버튼 라벨, 안내 문구 변경 |
| 색상 변경 | 낮음 | 버튼 색상, 배경색 수정 |
| 순서 변경 | 낮음 | 목록 정렬 순서 변경 |
| 숫자 조정 | 낮음 | 페이지당 항목 수 변경 |
| 환경 변수 | 낮음 | API 키 교체, URL 변경 |

### 3.2 주의가 필요한 작업 (황색 영역)

| 작업 | 위험도 | 필요 조치 |
|------|--------|----------|
| 새 API 추가 | 중간 | 스테이징에서 먼저 테스트 |
| 조건문 수정 | 중간 | 기존 동작 충분히 이해 후 수정 |
| 컴포넌트 수정 | 중간 | 연관된 페이지 모두 테스트 |
| 데이터 형식 변경 | 중간 | 기존 데이터 호환성 확인 |

### 3.3 전문가 필요 작업 (적색 영역)

| 작업 | 이유 | 대응 |
|------|------|------|
| 크롤러 수정 | 외부 사이트 구조 변경 대응 필요 | 외부 전문가 연락 |
| 인증 로직 | 보안 취약점 위험 | 본부 개발팀 검토 |
| DB 스키마 변경 | 데이터 손실 위험 | 외부 전문가 의뢰 |
| 성능 문제 | 깊은 분석 필요 | 외부 전문가 의뢰 |

---

## 4. 작업 유형별 가이드

### 4.1 UI 텍스트 수정

**상황**: 버튼이나 라벨의 텍스트를 변경하고 싶을 때

**프롬프트 예시**:
```
현재 프로젝트에서 "뉴스 검색" 버튼의 텍스트를
"기사 검색"으로 변경해줘.
다른 부분은 건드리지 말고 해당 텍스트만 수정해.
```

**작업 순서**:
1. Claude에게 해당 텍스트가 있는 파일 찾기 요청
2. 파일 확인 후 수정 요청
3. 수정 내용 검토
4. 로컬에서 테스트 (`npm run dev`)
5. 이상 없으면 커밋

### 4.2 색상/스타일 변경

**상황**: 버튼 색상이나 배경색을 변경하고 싶을 때

**프롬프트 예시**:
```
대시보드 페이지의 "새 리포트" 버튼 색상을
파란색(bg-blue-500)에서 녹색(bg-green-500)으로 바꿔줘.
호버 색상도 함께 변경해줘.
```

**팁**:
- Tailwind CSS 색상표 참고: `bg-{color}-{100~900}`
- 주요 색상: blue, green, red, yellow, gray, purple

### 4.3 증권사 정보 추가/수정

**상황**: 새로운 증권사를 추가하거나 기존 정보를 수정할 때

**프롬프트 예시**:
```
prisma/seed.ts 파일에 새로운 증권사를 추가해줘:
- 이름: ABC증권
- 코드: ABC
- 웹사이트: https://www.abc-sec.co.kr
- PowerBase 고객: 예
- 활성 상태: 예

기존 데이터 형식에 맞춰서 추가하고,
다른 증권사 데이터는 수정하지 마.
```

**작업 후**:
```bash
# 시드 데이터 적용
npm run db:seed
```

### 4.4 필터 조건 수정

**상황**: 뉴스나 데이터 조회 조건을 변경하고 싶을 때

**프롬프트 예시**:
```
/api/news API에서 기본 조회 기간을
1주일에서 2주일로 변경해줘.
Prisma where 절만 수정하고 다른 로직은 건드리지 마.
```

### 4.5 에러 원인 파악

**상황**: 시스템에서 에러가 발생했을 때

**프롬프트 예시**:
```
다음 에러가 발생했어:

TypeError: Cannot read properties of undefined (reading 'name')
    at NewsCard (src/components/features/news/news-card.tsx:25:15)

이 에러의 원인을 분석하고, 수정 방법을 알려줘.
단, 코드를 수정하기 전에 먼저 원인과 해결책을 설명해줘.
```

---

## 5. 단계별 작업 프로세스

### 5.1 수정 전 체크리스트

```
□ 무엇을 수정하려고 하는지 명확히 정리했는가?
□ 이 작업이 녹색 영역(안전)에 해당하는가?
□ 스테이징 환경에서 작업하고 있는가?
□ Git 커밋 상태가 깨끗한가? (변경사항 없음)
```

### 5.2 작업 프로세스

```
1. 요청 사항 정리
   - 무엇을 변경할 것인가?
   - 현재 상태는 어떠한가?
   - 원하는 결과는 무엇인가?

2. Claude에게 현재 상태 확인 요청
   - 관련 파일 읽기
   - 코드 동작 설명 요청

3. 수정 요청
   - 명확하고 구체적으로 요청
   - 수정 범위 제한 명시

4. 수정 내용 검토
   - 변경된 부분 확인
   - 다른 부분이 변경되지 않았는지 확인

5. 로컬 테스트
   - npm run dev로 실행
   - 브라우저에서 확인
   - 콘솔 에러 확인

6. 커밋 및 배포
   - 의미 있는 커밋 메시지 작성
   - 스테이징에서 최종 확인 후 프로덕션 배포
```

### 5.3 수정 후 체크리스트

```
□ 로컬에서 npm run build 성공하는가?
□ 기존 기능이 정상 작동하는가?
□ 브라우저 콘솔에 에러가 없는가?
□ 의도한 변경만 이루어졌는가?
□ Git 커밋 메시지를 작성했는가?
```

---

## 6. 자주 발생하는 문제와 해결

### 6.1 빌드 실패

**증상**: `npm run build` 실행 시 에러 발생

**해결 순서**:
```
1. 에러 메시지 복사
2. Claude에게 원인 분석 요청
3. 제안된 수정 사항 적용
4. 다시 빌드 시도
```

**프롬프트**:
```
npm run build 실행 시 다음 에러가 발생해:

[에러 메시지 붙여넣기]

원인과 해결 방법을 알려줘.
```

### 6.2 페이지 로딩 실패

**증상**: 특정 페이지가 로딩되지 않거나 빈 화면

**해결 순서**:
```
1. 브라우저 개발자 도구(F12) 열기
2. Console 탭에서 에러 확인
3. 에러 메시지로 Claude에게 문의
```

### 6.3 데이터가 표시되지 않음

**증상**: 목록이 비어있거나 데이터가 없음

**확인 사항**:
```
1. 네트워크 탭에서 API 응답 확인
2. API가 정상 응답하는지 확인
3. 데이터베이스에 데이터가 있는지 확인 (Prisma Studio)
```

---

## 7. 위험한 작업 피하기

### 7.1 절대 하지 말아야 할 것

```
❌ 인증/로그인 관련 코드 직접 수정
❌ 데이터베이스 스키마 직접 변경
❌ 크롤러 로직 직접 수정
❌ 보안 관련 설정 변경
❌ 프로덕션 환경에서 직접 테스트
❌ 백업 없이 데이터 삭제
```

### 7.2 전문가에게 연락해야 할 상황

```
⚠️ 크롤링이 전혀 동작하지 않을 때
⚠️ 로그인이 모든 사용자에게 안 될 때
⚠️ 데이터가 사라졌을 때
⚠️ 보안 관련 경고가 발생했을 때
⚠️ 원인을 알 수 없는 에러가 반복될 때
```

---

## 8. Git 기본 사용법

### 8.1 변경사항 저장 (커밋)

```bash
# 변경된 파일 확인
git status

# 변경사항 스테이징
git add .

# 커밋 (변경 내용 기록)
git commit -m "fix: 뉴스 페이지 버튼 텍스트 수정"
```

### 8.2 서버에 반영 (푸시)

```bash
# 원격 저장소에 업로드
git push
```

### 8.3 변경사항 되돌리기

```bash
# 아직 커밋하지 않은 변경사항 취소
git checkout -- .

# 마지막 커밋 취소 (변경사항은 유지)
git reset --soft HEAD~1
```

### 8.4 커밋 메시지 규칙

```
형식: <type>: <설명>

타입:
- feat: 새로운 기능
- fix: 버그 수정
- style: UI/스타일 변경
- docs: 문서 수정
- chore: 기타 변경

예시:
- feat: 증권사 목록에 ABC증권 추가
- fix: 뉴스 날짜 표시 오류 수정
- style: 대시보드 헤더 색상 변경
```

---

## 9. 배포 프로세스

### 9.1 스테이징 환경 테스트

```bash
# 1. 로컬에서 빌드 테스트
npm run build

# 2. 빌드 성공 시 스테이징 배포
git push origin develop

# 3. Vercel 대시보드에서 배포 상태 확인

# 4. 스테이징 URL에서 기능 테스트
```

### 9.2 프로덕션 배포

```bash
# 스테이징에서 테스트 완료 후

# 1. main 브랜치로 머지
git checkout main
git merge develop

# 2. 프로덕션 배포
git push origin main

# 3. Vercel 대시보드에서 배포 확인
```

### 9.3 문제 발생 시 롤백

```bash
# Vercel 대시보드에서 이전 배포로 롤백
# Deployments > 이전 배포 선택 > "..." > Promote to Production
```

---

## 10. 도움 요청

### 10.1 Claude에게 도움 요청

```
도움이 필요할 때 물어볼 수 있는 것들:

- "이 코드가 무슨 역할을 하는지 설명해줘"
- "이 에러를 어떻게 해결할 수 있어?"
- "이 기능을 수정하려면 어떤 파일을 봐야 해?"
- "이 변경이 다른 곳에 영향을 줄까?"
- "더 안전한 방법이 있을까?"
```

### 10.2 에스컬레이션

| 상황 | 연락처 | 응답 시간 |
|------|--------|----------|
| UI 버그, 텍스트 오류 | 팀 내 해결 | 즉시 |
| API 오류, 빌드 실패 | 본부 개발팀 | 2시간 내 |
| 크롤러 장애, 보안 이슈 | 외부 전문가 | 24시간 내 |

---

*작성일: 2026-01-23*
*대상: 금융영업팀 담당자*
*버전: 1.0*
